---
phase: 04-product-demo
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/sections/demoData.ts
  - components/ui/BentoCard.tsx
  - components/ui/DemoFrame.tsx
  - components/sections/ProductDemo.tsx
autonomous: true

must_haves:
  truths:
    - "Demo section renders a bento grid layout with varying card sizes"
    - "PowerPoint chrome frame mockup wraps demo content with title bar and window controls"
    - "Bento cards display distinct product demo aspects (sidebar chat, slide editing, Skills, results)"
    - "Content is placeholder-ready with data attributes and aspect-ratio containers for screenshot swap"
    - "Layout is responsive: 2-column grid on mobile, multi-column bento on desktop"
  artifacts:
    - path: "components/sections/demoData.ts"
      provides: "Demo step content data (titles, descriptions, sidebar messages, placeholder content)"
      exports: ["demoSteps", "DemoStep"]
    - path: "components/ui/BentoCard.tsx"
      provides: "Bento grid card with cursor-following flashlight border effect"
      exports: ["BentoCard"]
    - path: "components/ui/DemoFrame.tsx"
      provides: "PowerPoint chrome frame wrapper extending Hero mockup pattern"
      exports: ["DemoFrame"]
    - path: "components/sections/ProductDemo.tsx"
      provides: "Main ProductDemo section with bento grid layout"
      exports: ["default (ProductDemo)"]
  key_links:
    - from: "components/sections/ProductDemo.tsx"
      to: "components/sections/demoData.ts"
      via: "import demoSteps"
      pattern: "import.*demoData"
    - from: "components/sections/ProductDemo.tsx"
      to: "components/ui/BentoCard.tsx"
      via: "BentoCard component usage"
      pattern: "<BentoCard"
    - from: "components/sections/ProductDemo.tsx"
      to: "components/ui/DemoFrame.tsx"
      via: "DemoFrame wrapping main demo walkthrough"
      pattern: "<DemoFrame"
---

<objective>
Create the static structure for the Product Demo section: data model, BentoCard component with cursor-following flashlight effect, DemoFrame PowerPoint chrome wrapper, and ProductDemo section with Square-inspired bento grid layout.

Purpose: Establish all visual components and content structure before adding scroll animations in Plan 02. The bento grid with varying card sizes creates a premium, Square-inspired layout that showcases different aspects of Slider's product demo.

Output: Four new files providing the complete static layout for the Product Demo section, with cursor interactivity on cards, ready for scroll animation wiring.
</objective>

<execution_context>
@C:\Users\antoi\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\antoi\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-product-demo/04-RESEARCH.md
@components/sections/Hero.tsx (PowerPoint mockup pattern to extend)
@components/sections/FeatureShowcase.tsx (ScrollTrigger patterns for reference)
@components/sections/featureData.ts (data module pattern to follow)
@components/ui/Card.tsx (existing card component pattern)
@app/globals.css (design tokens: burnt-orange, stone scale, radius-card, shadows, fluid type)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Demo content data and BentoCard component with cursor flashlight effect</name>
  <files>
    components/sections/demoData.ts
    components/ui/BentoCard.tsx
  </files>
  <action>
**demoData.ts** -- Create a pure TypeScript data module (no JSX, following featureData.ts pattern):

```typescript
export interface DemoStep {
  id: string
  title: string
  description: string
  sidebarMessages: { text: string; sender: 'user' | 'slider' }[]
  // For screenshot swap later: data-step attribute + placeholder description
  placeholderLabel: string
  // Grid span hints for bento layout
  gridSpan: 'large' | 'medium' | 'small'
}
```

Create 4 demo steps showing Slider sidebar workflow:
1. **"Open Slider Sidebar"** (gridSpan: 'large') -- Shows PowerPoint with Slider sidebar appearing. Sidebar messages: user says "I need a sales deck", Slider responds "I'll help you build that. Which Skill should we use?" Placeholder label: "PowerPoint with Slider sidebar open"
2. **"Choose a Skill"** (gridSpan: 'medium') -- Shows Skills selection. Sidebar messages: user says "Use Sales Pitch", Slider responds "Great choice. Let me set up your deck..." Placeholder label: "Skill selection interface"
3. **"AI Builds Your Slides"** (gridSpan: 'medium') -- Shows slides being generated. Sidebar messages: Slider says "Building slide 3 of 8...", "Adding data visualization..." Placeholder label: "Slides being generated in real-time"
4. **"Review & Refine"** (gridSpan: 'small') -- Shows final result with refinement. Sidebar messages: user says "Make the charts bigger", Slider responds "Done! Charts resized across all slides." Placeholder label: "Polished final deck"

Also export a `bentoGridAreas` array that maps step IDs to CSS grid column/row spans for the bento layout.

**BentoCard.tsx** -- Create a client component ('use client') that renders a card with:
- Props: `children: ReactNode`, `className?: string`, `gridSpan?: 'large' | 'medium' | 'small'`, `index?: number` (for stagger animation targeting)
- **Cursor flashlight effect**: Track mouse position relative to card using onMouseMove. Store x,y in state. Apply a CSS radial gradient on a pseudo-element (or inner div) that follows the cursor. Use `background: radial-gradient(circle 200px at ${x}px ${y}px, rgba(196,80,30,0.15), transparent)` overlaying the card border area. On mouse leave, fade out the gradient.
- Implementation approach: Use a `div` with `position: absolute; inset: -1px; border-radius: inherit; pointer-events: none` that renders the radial gradient as its background. Control opacity with state (0 on leave, 1 on move). Use `transition: opacity 0.3s` for smooth fade.
- Styling: `bg-stone-800/80 backdrop-blur-sm border border-stone-700/50 rounded-[1.5rem] p-6 lg:p-8 relative overflow-hidden group`
- Hover state: `hover:border-stone-600/60` subtle border brightening
- Grid span classes: 'large' = 'col-span-2 row-span-2', 'medium' = 'col-span-1 row-span-2', 'small' = 'col-span-1 row-span-1' (desktop only, full-width on mobile)
- Add `data-demo-card` attribute and a `demo-card` class for GSAP targeting in Plan 02
- The card should look premium with larger border-radius (1.5rem, matching Square's 1.6-2.4rem aesthetic) and subtle backdrop blur

**Important:** The flashlight effect must be performant. Use `transform: translate3d(0,0,0)` on the gradient overlay to force GPU compositing. Do NOT use onMouseMove with setState on every pixel -- instead, use a ref to store the gradient div and update its style directly (bypassing React render) for 60fps performance.
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no TypeScript errors. Verify demoData.ts exports DemoStep type and demoSteps array with 4 items. Verify BentoCard.tsx is a client component with cursor tracking.
  </verify>
  <done>
demoData.ts exports 4 demo steps with sidebar messages, grid spans, and placeholder labels. BentoCard.tsx renders a styled card with cursor-following flashlight border effect that performs at 60fps by using direct DOM manipulation for the gradient overlay position.
  </done>
</task>

<task type="auto">
  <name>Task 2: DemoFrame chrome wrapper and ProductDemo bento grid section</name>
  <files>
    components/ui/DemoFrame.tsx
    components/sections/ProductDemo.tsx
  </files>
  <action>
**DemoFrame.tsx** -- Create a reusable PowerPoint chrome frame component extending the Hero.tsx mockup pattern:

```tsx
interface DemoFrameProps {
  children: React.ReactNode
  sidebarContent?: React.ReactNode
  className?: string
}
```

Structure (extending Hero pattern with enhanced chrome):
- Outer wrapper: `bg-stone-800 rounded-xl border border-stone-700 overflow-hidden shadow-2xl`
- Title bar: `flex items-center justify-between px-4 py-3 bg-stone-900/90 border-b border-stone-700`
  - Left side: three dots (same as Hero: w-3 h-3 rounded-full bg-stone-600) + filename "Quarterly Report.pptx" in stone-500 text-xs
  - Right side: "PowerPoint" label in stone-600 text-xs (enhancement over Hero)
- Content area: `flex` layout
  - Main area: `flex-1 min-h-[300px] lg:min-h-[400px] bg-stone-850` -- NOTE: bg-stone-850 doesn't exist in Tailwind, use `bg-[#211F1E]` (between stone-800 #292524 and stone-900 #1C1917) for subtle contrast. Children render here.
  - Sidebar area (if sidebarContent provided): `w-[200px] lg:w-[240px] bg-stone-900 border-l border-stone-700 p-4 flex flex-col` -- renders sidebarContent
- Add `data-demo-frame` attribute for GSAP targeting
- Add ref forwarding with `forwardRef` so parent can pass refs for animation

**ProductDemo.tsx** -- Create the main ProductDemo section as a 'use client' component:

Structure:
- Outer section: `id="demo"` with `bg-stone-900 text-white` (matching existing placeholder)
- Section heading area with `py-20 sm:py-24 lg:py-32`:
  - Eyebrow text: "See It In Action" in burnt-orange, uppercase, tracking-wide, text-sm
  - Main heading: "Watch Slider Build Your Deck" in text-4xl/text-5xl font-bold
  - Subheading: brief description in stone-300
  - Add `.demo-heading` class for scroll animation targeting
- Bento grid container below heading:
  - CSS Grid layout: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6`
  - On large screens, the grid uses a 3-column layout with the first card (large) spanning 2 cols x 2 rows
  - Map over demoSteps, render each in a BentoCard
  - The FIRST card (large, "Open Slider Sidebar") contains a DemoFrame with:
    - Main content area: aspect-ratio container `aspect-[16/10]` with placeholder slide content (reuse Hero's slide placeholder pattern: centered lines representing title and body text)
    - Sidebar: Chat bubbles matching Hero pattern style. Render step's sidebarMessages as alternating user/slider bubbles. User bubbles: `bg-stone-800 rounded-lg p-2.5 text-xs text-stone-400`. Slider bubbles: `bg-burnt-orange/20 rounded-lg p-2.5 text-xs text-burnt-orange border border-burnt-orange/30`
    - Add `data-step="sidebar-walkthrough"` on the DemoFrame for animation targeting
    - Add refs: `sidebarRef` on sidebar wrapper, individual refs or classes on chat bubbles for sequential animation
  - The other 3 cards: Each renders its step title, description, a small placeholder visual (aspect-[4/3] bg-stone-700/50 rounded-lg with centered placeholder label text), and mini sidebar message preview
  - Each BentoCard gets `index={i}` prop for stagger targeting
- Add parallax background elements: 2-3 decorative blurred shapes positioned absolute behind the grid
  - Shape 1: `w-64 h-64 bg-burnt-orange/5 rounded-full blur-3xl absolute -top-32 -left-16` with `.parallax-shape` class
  - Shape 2: `w-48 h-48 bg-teal/5 rounded-full blur-3xl absolute bottom-0 right-0` with `.parallax-shape` class
- Wrap grid + parallax container in `relative overflow-hidden`
- Use `will-change-transform` on elements that will be animated
- Add `motion-reduce:` Tailwind variants where appropriate (e.g., grid stays same, animations just don't play)

**Do NOT** add any GSAP/ScrollTrigger animation code yet -- that's Plan 02. This plan focuses purely on static layout and cursor interactivity on BentoCards.

**Do NOT** import or use this component in page.tsx yet -- that's Plan 02.
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no TypeScript errors. Manually inspect that ProductDemo.tsx imports from demoData.ts, BentoCard, and DemoFrame. Check that DemoFrame uses forwardRef. Check that bento grid layout uses CSS grid with span classes.
  </verify>
  <done>
DemoFrame wraps content in PowerPoint chrome with optional sidebar. ProductDemo renders a Square-inspired bento grid with 4 cards of varying sizes, the primary card containing a full DemoFrame with sidebar chat bubbles, parallax background shapes positioned behind grid, and all elements have appropriate classes/data attributes for GSAP targeting in Plan 02.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. demoData.ts exports DemoStep interface and 4-item demoSteps array
3. BentoCard.tsx is 'use client', has cursor flashlight effect using direct DOM manipulation
4. DemoFrame.tsx uses forwardRef, has PowerPoint chrome matching Hero.tsx style
5. ProductDemo.tsx imports all three modules and renders bento grid with proper CSS Grid spans
6. All components have data attributes and CSS classes for GSAP targeting
7. No GSAP or ScrollTrigger code in any file (animations are Plan 02)
</verification>

<success_criteria>
- Four new files exist and compile without errors
- Bento grid shows 4 cards: 1 large (2x2), 2 medium (1x2), 1 small (1x1) on desktop
- Primary card wraps content in DemoFrame with sidebar chat bubbles
- BentoCard has working cursor-following flashlight effect (visible on hover in browser)
- All elements ready for GSAP animation targeting (classes and data attributes present)
- Content structure is placeholder-ready (aspect-ratio containers, data attributes for screenshot swap)
</success_criteria>

<output>
After completion, create `.planning/phases/04-product-demo/04-01-SUMMARY.md`
</output>
